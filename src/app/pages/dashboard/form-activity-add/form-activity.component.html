<div class="container my-4">
  <div class="row justify-content-center">
    <div class="col-12 col-md-10 col-lg-8">
      <div class="card p-4 shadow">
        <h2 class="mb-4 text-center">Crear Actividad</h2>
        <form>

          <!-- Título -->
          <div class="mb-3">
            <label for="titulo" class="form-label">Título*</label>
            <input type="text" id="titulo" name="titulo" class="form-control" />
          </div>

          <!-- Descripción -->
          <div class="mb-3">
            <label for="descripcion" class="form-label">Descripción*</label>
            <input type="text" id="descripcion" name="descripcion" class="form-control" />
          </div>

          <!-- Día dinámico -->
          <div class="mb-3">
            <label for="dia" class="form-label">Día*</label>
            <select
              id="dia"
              name="dia"
              class="form-select"
              [value]="diaSeleccionado"
              (change)="diaSeleccionado = +($any($event.target).value); onDiaChange()"
            >
              @for (dia of diasDisponibles; track $index) {
                <option [value]="dia">{{ diaLabels[dia] }}</option>
              }
            </select>
          </div>

          <!-- Hora de inicio -->
          <div class="mb-3">
            <label for="horaInicio" class="form-label">Hora de Inicio*</label>
            <select
              id="horaInicio"
              name="horaInicio"
              class="form-select"
              [value]="horaInicio"
              (change)="horaInicio = $any($event.target).value"
            >
              <option value="" disabled selected>Seleccione hora</option>
              @for (hora of horasFiltradas; track $index) {
                <option [value]="hora">{{ hora }}</option>
              }
            </select>
          </div>

          <!-- Hora final -->
          <div class="mb-3">
            <label for="horaFinal" class="form-label">Hora Final*</label>
            <select
              id="horaFinal"
              name="horaFinal"
              class="form-select"
              [value]="horaFinal"
              (change)="horaFinal = $any($event.target).value"
            >
              <option value="" disabled selected>Seleccione hora</option>
              @for (hora of horasFiltradas; track $index) {
                <option [value]="hora">{{ hora }}</option>
              }
            </select>
          </div>
        <!-- Validación de diferencia de horas -->
        @if (!esValidoElRangoDeHoras() && horaInicio && horaFinal) {
          <div class="text-danger mb-3">
            La hora final debe ser al menos una hora posterior a la hora de inicio.
          </div>
        }

          <!-- Rutinas -->
          <div class="mb-3">
            <label for="rutina" class="form-label">Rutina</label>
            <select
              id="rutina"
              name="rutina"
              class="form-select"
              [value]="rutinaSeleccionada"
              (change)="rutinaSeleccionada = +($any($event.target).value)"
            >
              <option value="" disabled selected>Seleccione rutina</option>
              @for (rutina of rutinasDisponibles; track $index) {
                <option [value]="rutina.id">{{ rutina.name }}</option>
              }
            </select>
          </div>

          <!-- Botones -->
          <div class="d-flex justify-content-between">
            <button type="submit" class="btn-custom mt-2 mb-3 mx-auto centered-button">
              Crear Actividad
            </button>
            <button
              type="button"
              class="btn-custom mt-2 mb-3 mx-auto centered-button"
              (click)="cerrarFormulario()"
            >
              Cancelar
            </button>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>
