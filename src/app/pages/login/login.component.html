<section class="login-wrapper">
    <div class="login-card">
      <h2 class="text-center mb-4">Iniciar SesiÃ³n</h2>
  
      <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
        <mat-form-field class="w-100 mb-3" appearance="fill">
          <mat-label for="usuario" class="form-label fw-bold">Usuario</mat-label>
          <input
            matInput
            type="text"
            id="usuario"
            class="form-control"
            formControlName="usuario"
            placeholder="Introduce tu usuario"
          />
          @if (checkControl('usuario', 'required')) {
            <mat-error class="text-danger">El campo es obligatorio</mat-error>
          }
        </mat-form-field>
  
        <mat-form-field class="w-100 mb-3" appearance="fill">
          <mat-label for="contrasena" class="form-label fw-bold">ContraseÃ±a</mat-label>
          <div class="position-relative">
            <input
            matInput
            [type]="showPassword ? 'text' : 'password'"
            id="contrasena"
            class="form-control"
            formControlName="contrasena"
            placeholder="Introduce tu contraseÃ±a"
            />
            <button
              type="button"
              (click)="showPassword = !showPassword"
              class="position-absolute top-50 translate-middle-y end-0 d-flex align-items-center px-3 text-secondary hover:text-primary border-0 bg-transparent"        >
              @if (!showPassword) {
                  ğŸ‘ï¸
              } @else {
                  ğŸ™ˆ
              }
            </button>
          </div>

          @if (checkControl('contrasena', 'required')) {
            <mat-error class="text-danger">El campo es obligatorio</mat-error>
          }
        </mat-form-field>
  
        <button
        mat-raised-button
        color="primary"
        class="w-100 mt-4 d-flex align-items-center justify-content-center gap-2"
        [disabled]="loginForm.invalid">
          Iniciar SesiÃ³n
        </button>
      </form>
      <div class="d-flex justify-content-center align-items-center mt-4 flex-column">
        <p>Â¿Has olvidado tu contraseÃ±a? <a [routerLink]="['/home']" class="link-primary-color text-decoration-none">RecuÃ©rdame</a></p>
        <p>Â¿AÃºn no tienes cuenta? <a [routerLink]="['/register']" class="link-primary-color text-decoration-none">Registrate</a></p>

      </div>
    </div>
  </section>
  